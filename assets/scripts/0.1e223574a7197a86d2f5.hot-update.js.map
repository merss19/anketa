{"version":3,"sources":["webpack:///./app/scripts/slider.js?3689"],"names":["SliderModule","NAME","JQUERY_NO_CONFLICT","$","fn","Slider","element","config","line","dragger","children","rightEdge","width","console","log","position","extend","initPos","on","mouseDown","e","ev","css","posX","pageX","originalEvent","touches","draggerCoords","getCoords","shiftX","left","sliderCoords","mouseMove","event","newLeft","document","off","elem","box","getBoundingClientRect","top","each","data","init","Constructor","noConflict"],"mappings":"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","file":"0.1e223574a7197a86d2f5.hot-update.js","sourcesContent":["import jQuery from 'jquery';\r\nconst SliderModule = ($ => {\r\n\r\n\r\n\t/**\r\n\t * ------------------------------------------------------------------------\r\n\t * Constants\r\n\t * ------------------------------------------------------------------------\r\n\t */\r\n\r\n\tconst NAME = 'slider';\r\n\tconst JQUERY_NO_CONFLICT = $.fn[NAME];\r\n\r\n\r\n\r\n\t/**\r\n\t * ------------------------------------------------------------------------\r\n\t * Class Definition\r\n\t * ------------------------------------------------------------------------\r\n\t */\r\n\r\n\tclass Slider {\r\n\r\n\t\tconstructor(element, config) {\r\n\t\t\tthis.line = $(element);\r\n\t\t\tthis.dragger = $(element).children();\r\n\t\t\tthis.rightEdge = this.line.width() - this.dragger.width() / 4;\r\n\t\t\tconsole.log(this.rightEdge)\r\n\t\t\tthis.config = {\r\n\t\t\t\tposition: 0\r\n\t\t\t};\r\n\r\n\t\t\tif (config){\r\n\t\t\t\tthis.config = $.extend({}, this.config, config);\r\n\t\t\t}\r\n\r\n\t\t\tthis.initPos();\r\n\r\n\r\n\t\t\tthis.dragger.on('mousedown', e => {\r\n\t\t\t\tthis.mouseDown(e);\r\n\t\t\t});\r\n\r\n\r\n\t\t\tthis.dragger.on('touchstart', ev => {\r\n\t\t\t\tconsole.log('touchstart')\r\n\t\t\t\tthis.mouseDown(ev);\r\n\t\t\t});\r\n\r\n\r\n\t\t}\r\n\r\n\t\tinitPos(){\r\n\t\t\tconst initPos = this.rightEdge * this.config.position / 100;\r\n\t\t\tthis.dragger.css('left', initPos + 'px');\r\n\t\t}\r\n\r\n\t\tmouseDown(e){\r\n\t\t\tconsole.log('mouseDown')\r\n\t\t\tconsole.log(this.dragger.css('left'))\r\n\r\n\t\t\tlet posX = e.pageX || e.originalEvent.touches && e.originalEvent.touches[0].pageX;\r\n\t\t\tconst draggerCoords = this.getCoords(this.dragger);\r\n\t\t\t//console.log(posX)\r\n\t\t\t//console.log(draggerCoords)\r\n\r\n\t\t\tthis.shiftX = posX - draggerCoords.left;\r\n\t\t\t//console.log(this.shiftX)\r\n\r\n\t\t\tthis.sliderCoords = this.getCoords(this.line);\r\n\t\t\t//console.log(this.sliderCoords)\r\n\t\t\t$(this.line).on('mousemove', event => {\r\n\t\t\t\tthis.mouseMove(event);\r\n\t\t\t});\r\n\r\n\r\n\t\t\tthis.dragger.on('touchmove', ev => {\r\n\t\t\t\tconsole.log('touchmove')\r\n\t\t\t\tthis.mouseMove(ev);\r\n\t\t\t});\r\n\r\n\r\n\t\t}\r\n\r\n\t\tmouseMove(e){\r\n\t\t\tconsole.log('mouseMove')\r\n\t\t\tlet posX = e.pageX || e.originalEvent.touches && e.originalEvent.touches[0].pageX;\r\n\t\t\tconsole.log(posX)\r\n\t\t\tlet newLeft = posX- this.shiftX - this.sliderCoords.left + this.dragger.width() / 2;\r\n\t\t\tconsole.log(newLeft)\r\n\t\t\t// курсор ушёл вне слайдера\r\n\t\t\tif (newLeft < 0) {\r\n\t\t\t\tnewLeft = 0;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (newLeft > this.rightEdge) {\r\n\t\t\t\tnewLeft = this.rightEdge;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragger.css('left', newLeft + 'px');\r\n\r\n\t\t\t$(document).on('mouseup', () => {\r\n\t\t\t\tthis.line.off('mousemove');\r\n\t\t\t\tthis.line.off('mouseup');\r\n\t\t\t});\r\n\r\n\r\n\t\t\tthis.dragger.on('touchend', () => {\r\n\t\t\t\tconsole.log('touchend')\r\n\t\t\t\tthis.line.off('touchmove');\r\n\t\t\t\tthis.line.off('touchstart');\r\n\t\t\t});\r\n\r\n\r\n\t\t}\r\n\r\n\r\n\t\tgetCoords(elem) {\r\n\t\t\tconst box = elem[0].getBoundingClientRect();\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: box.top ,\r\n\t\t\t\tleft: box.left\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t\t// static\r\n\r\n\t\tstatic init(config) {\r\n\t\t\treturn this.each(function () {\r\n\r\n\t\t\t\tlet data = $(this).data(NAME);\r\n\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\t$(this).data(NAME, (data = new Slider(this, config)));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * ------------------------------------------------------------------------\r\n\t * jQuery\r\n\t * ------------------------------------------------------------------------\r\n\t */\r\n\r\n\t$.fn[NAME] = Slider.init;\r\n\t$.fn[NAME].Constructor = Slider;\r\n\t$.fn[NAME].noConflict = function () {\r\n\t\t$.fn[NAME] = JQUERY_NO_CONFLICT;\r\n\t\treturn Slider.init;\r\n\t};\r\n\r\n\treturn Slider;\r\n\r\n})(jQuery);\r\n\r\nexport default SliderModule;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/slider.js"],"sourceRoot":""}